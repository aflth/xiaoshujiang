---
title: pythonè£…é¥°å™¨-è¯­æ³•ç³–
comments: true
date: 2018-06-12 15:57:10
tags: 
- python
- è£…é¥°å™¨
categories: Python
password:
summary_img:
---

<!-- more -->

# æˆ‘å¯¹è£…é¥°å™¨çš„è®¤è¯†

	è£…é¥°å™¨ï¼Œå°±æ˜¯å‡½æ•°å¥—å‡½æ•°ï¼Œå¹¶ä¸”æ˜¯å°†å¦ä¸€ä¸ªå‡½æ•°å½“åšå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œæ›¾æœ‰ä½å¤§ä½¬ç§°ï¼Œä¸€ä¸ªæ˜¯å†…è£¤ï¼Œä¸€ä¸ªæ˜¯å†¬åº“ï¼Œå½“å†…è£¤ä¸èƒ½å¤Ÿé˜»æ­¢å¯’å†·ï¼Œè€Œå‘æ˜Žäº†å†¬è£¤ã€‚
	
	è¿™å°±æ˜¯å†¬è£¤çš„ä½œç”¨ï¼Œå½“ä¸€ä¸ªå‡½æ•°å†™å¥½åˆéœ€è¦å¢žåŠ åŠŸèƒ½æ—¶ï¼Œè¿™æ˜¯è£…é¥°å™¨å°±å‘æŒ¥äº†å¾ˆå¤§çš„ç”¨å¤„ã€‚
	
	
## è£…é¥°å™¨ä¸€èˆ¬è¿ç”¨åœºåˆ

- æƒé™æ ¡éªŒ
- æ’å…¥æ—¥å¿—
- æ€§èƒ½æµ‹è¯•
- äº‹åŠ¡å¤„ç†

## æ’å…¥æ—¥å¿—åº”ç”¨

> çŽ°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªå®¢æˆ·è¦ä¹ˆå†™ä¸€ä¸ªåº”ç”¨
> äºŽæ˜¯ä½ å°±åŸ‹å¤´è‹¦å¹²,ç»ˆäºŽå†™å®Œäº†,äº¤ç»™äº†å®¢æˆ·ã€‚
```python

def A():
    print("è¿™æ˜¯Aåº”ç”¨")
    
def B():
    print("è¿™æ˜¯Båº”ç”¨")
    
def C():
    print("è¿™æ˜¯Cåº”ç”¨")
    
# è¿˜æœ‰å¥½å¤šä¸ªè¿™æ ·çš„ç¨‹åº
```

> è¿™æ—¶ä½ çš„å¿ƒæƒ…æˆ‘äº†è§£ï¼Œ äºŽæ˜¯ä½ åˆå¼€å§‹å†™ã€‚

``` python
def A():
    print("è¿™æ˜¯Aåº”ç”¨çš„æ—¥å¿—")
    print("è¿™æ—¶Aåº”ç”¨")
    
def B():
    print("è¿™æ˜¯Båº”ç”¨çš„æ—¥å¿—")
    print("è¿™æ—¶Båº”ç”¨")

def C():
    print("è¿™æ˜¯Cåº”ç”¨çš„æ—¥å¿—")
    print("è¿™æ—¶Cåº”ç”¨")
# å°±è¿™æ ·ï¼Œä½ æ”¹äº†å·®ä¸å¤š9999ä¸ªä»£ç ï¼Œ
```
> æ”¹äº†9999ä¸ªç¨‹åºï¼Œå¥³æœ‹å‹å´ä¸è§äº†ï¼Œå“Žã€‚ã€‚ã€‚

### æ‰¾å›žå¥³ç›†å‹

> æˆ‘çŸ¥é“æˆ‘ä»¬ä¸èƒ½è¿™æ ·è¯¥ï¼Œè¦ä¸ç„¶å¥³æœ‹å‹ä¹Ÿä¼šæ²¡å¾—ï¼Œè™½ç„¶çŽ°åœ¨è¿˜æ²¡æœ‰ï¼Œä½†æ˜¯ä¸èƒ½æœ‰äº†ï¼Œåº”ä¸ºè¿™ä¸ªåœ¨å¼„ä¸¢äº†ï¼ŒðŸ˜„
> è£…é¥°å™¨çš„ä½œç”¨ï¼š æ‰¾å›žå¥³æœ‹å‹

``` python
def logging(func):
    def wapper():
        func()
        print("è¿™æ˜¯{}åº”ç”¨çš„æ—¥å¿—".format(func.__name__))
    return wapper
@logging    
def A():
    print("è¿™æ˜¯Aåº”ç”¨")
@logging 
def B():
    print("è¿™æ˜¯Båº”ç”¨")
@logging   
def C():
    print("è¿™æ˜¯Cåº”ç”¨")
    
```
> å•Šï¼Œä¸€ä¼šä¼šå„¿å°±å®Œäº†ï¼Œç»ˆäºŽå¯ä»¥åŽ»æ’©å¦¹äº†ï¼Œæœ‰å¥³æœ‹å‹çš„æ­¤æ­¥éª¤è·³è¿‡ã€‚
> å“ˆå“ˆ å°±æ˜¯è¿™æ ·çš„ï¼Œ å¯ä»¥å‡å°‘ä»£ç çš„å¤ç”¨çŽ‡
### æ€»ç»“1

    > åˆšæ‰æˆ‘ä»¬ç”¨ä¸€ä¸ªå°çš„æ—¥å¿—ç¨‹åºç®€å•è¯´æ˜Žäº†ï¼Œè¯­æ³•ç³–--è£…é¥°å™¨ï¼Œä½†æ˜¯ç”±äºŽæœ¬äººæ˜¯ä¸ªçº¯å°ç™½ï¼Œæ‰€ä»¥æœ‰ä¸åˆ°ä½çš„å¸Œæœ›ç•™è¨€ï¼Œä¸€èµ·è¿›æ­¥ã€‚
    > åœ¨è£…é¥°å™¨å°±æ˜¯å‡½æ•°é‡Œé¢æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”ä¼ å…¥å‚æ•°ä¼ å…¥çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè®°å¾—åœ¨pythonä¸­å‡½æ•°ä¸å¸¦æ‹¬å·å¯ä»¥å½“ä½œå‚æ•°ã€‚ç›¸å½“äºŽä¸€ä¸ªå˜é‡ã€‚
    > ä½†æ˜¯è¦ç»™åŽŸå‡½æ•°ä¼ å…¥å‚æ•°æ€Žä¹ˆåŠžå‘¢ï¼Œä¸‹é¢æˆ‘ä»¬å°†ä¸€èµ·å­¦ä¹ ï¼Œè£…é¥°å™¨ä¸å¸¦å‚æ•°ï¼Œè¢«è£…é¥°å‡½æ•°å¸¦å‚æ•°ã€‚
    
##  æƒé™éªŒè¯åº”ç”¨
> çŽ°åœ¨æœ‰ä¸€ä¸ªæ‹¨å·ç¨‹åºï¼Œè¦æ±‚ç”¨æˆ·è¾“å…¥idå¯ä»¥è¿›è¡Œæ‹¨å·å¹¶è¿›è¡Œåˆ¤æ–­æ˜¯å¦æœ‰è¶³å¤Ÿçš„é‡‘é’±

```python
def root(func):
    def inner(money, id):
        if money > 0:
            func(money, id)
        else:
            print("ä½ çš„ä½™é¢ä¸è¶³ï¼Œè¯·å……å€¼ï¼")
    return inner
@root
def dial(money, id):
    print("ç»™{}æ‹¨æ‰“ç”µè¯".format(id))

dial(-3, "5214")

```
> å…¶ä¸­ï¼Œdialå‡½æ•°å¸¦å‚æ•°
> æ‰§è¡Œè¿‡ç¨‹ï¼Œdial = root(dial)

> åœ¨ä½¿ç”¨åŽŸå‡½æ•°å¸¦å‚æ•°çš„æ—¶å€™ï¼Œæ³¨æ„ä¸€ç‚¹å°±å¯ä»¥äº†ï¼ŒåŽŸå‡½æ•°éœ€è¦çš„å‚æ•°ï¼Œå’Œ è£…é¥°å™¨ä¸­çš„æž„é€ å‡½æ•°çš„å‚æ•°æ˜¯ä¸€æ ·çš„
> å°±æ‹¿ä¸Šé¢çš„ä¾‹å­æ¥è¯´ï¼Œdial(money, id) å’Œ innerï¼ˆmoneyï¼Œidï¼‰å‚æ•°æ˜¯ä¸€æ ·çš„ï¼Œç”±äºŽæˆ‘çŽ°åœ¨åˆšå­¦ä¹Ÿè®²ä¸æ¸…æ¥šï¼Œæ‰€ä»¥æˆ‘åªèƒ½è¿™ä¹ˆå‘Šè¯‰ä½ ã€‚
> ä¸ºä»€ä¹ˆï¼šæ²¡æœ‰å› ä¸ºï¼Œæ€ªæˆ‘è®²ä¸æ¸…æ¥šï¼ŒðŸ˜„ã€‚å½“ç„¶è¿˜å¯ä»¥ç”¨ *args **kwargs ä¸€ä¸ªæ˜¯å…ƒç»„ï¼Œä¸€ä¸ªæ˜¯å­—å…¸

##  è£…é¥°å™¨å¸¦å‚æ•°	
``` python
# è£…é¥°å™¨-è£…é¥°å™¨å¸¦å‚æ•°

def root(len):
    def inner_1(func):
        def inner(name):
            if len == 2:
                print("è£…é¥°å™¨å¸¦å‚æ•°{}".format(name))
                func(name)
        return inner
    return inner_1


@root(2)
def wrapper(name):
    print("this is {}".format(name))

wrapper("dove")
```
> è¿™æ—¶è£…é¥°å™¨å¸¦å‚æ•°çš„ä¾‹å­
> ä¸»è¦åº”ç”¨åœºæ™¯ï¼Œä¸åŒçš„æ—¥å¿—ç­‰çº§ï¼Œ ä¸åŒçš„æƒé™ç­‰çº§ã€‚ä¾‹å¦‚ä½ å¼€å§‹å®¶äº†ä¸€ä¸ªä¼šå‘˜çš„åŠŸèƒ½ï¼ŒåŽæ¥åˆæœ‰äº†è¶…çº§ä¼šå‘˜ï¼Œé‚£ä¹ˆä¼šå‘˜å°±å’Œè¶…çº§ä¼šå‘˜æœ‰ä¸€å®šçš„å·®è·

## æ€»ç»“
>  åœ¨pythonä¸­çš„è£…é¥°å™¨åˆ†ä¸ºï¼š
	>  ä¸å¸¦å‚æ•°çš„è£…é¥°å™¨
	>  åŽŸå‡½æ•°å¸¦è£…é¥°å™¨
	>  è£…é¥°å™¨å¸¦å‚æ•°

> è£…é¥°å™¨ä½œç”¨
	> å‡å°‘ä»£ç é‡ç”¨
	> éµå¾ªï¼Ÿï¼ŸåŽŸåˆ™ï¼ˆå°±æ˜¯å°½é‡ä¸è¦æ”¹å·²ç»å†™å¥½çš„ä»£ç ï¼‰
	> å¢žåŠ æ–°åŠŸèƒ½ï¼ˆå®žé™…ï¼‰

## é™„ä»¶

###	å½“æœ‰å¤šä¸ªè£…é¥°å™¨çš„æ—¶å€™

```python
@A
@B
@C
def wrapper():
	pass
	
```
> è¿™æ—¶å€™å®‰è£…ä»Žåº•ä¸‹ç½‘ä¸Šçš„å¥—è·¯wrapper=(a(b(c(wrapper))))
